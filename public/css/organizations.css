/* resources/css/organizations.css */

:root {
  --card-bg: #ffffff;
  --card-border: #e2e8f0;
  --muted: #64748b; 
  --primary: #3b82f6; 
  --primary-dark: #1d4ed8; 
  --radius: 0.75rem; 
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --text: #0f172a; 
  --bg-page: #f8fafc; 
}

/* --- PAGE & CONTENEUR --- */
.org-page-section { 
  padding-top: 3rem; 
  padding-bottom: 5rem; 
  background-color: var(--bg-page); 
  min-height: 100vh; 
}

.org-container { 
  max-width: 1320px; /* Plus large pour les grands écrans */
  margin: 0 auto; 
  padding-left: 2rem; 
  padding-right: 2rem; 
  font-family: inherit; 
  color: var(--text); 
}

/* --- HEADER --- */
.org-header { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: 2.5rem; 
  padding-bottom: 1.5rem;
  border-bottom: 1px solid #cbd5e1;
}
.org-header-title { font-weight: 800; font-size: 2rem; color: var(--text); letter-spacing: -0.02em; }
.org-header-actions { display: flex; gap: 1rem; align-items: center; }

/* --- GRILLE PRINCIPALE (1/3 - 2/3) --- */
.org-card-row { 
  display: grid; 
  grid-template-columns: 1fr; 
  gap: 2rem; 
  margin-bottom: 2rem;
}
@media(min-width: 768px) { 
  .org-card-row { 
    grid-template-columns: repeat(2, 1fr); 
  } 
}

@media(min-width: 1024px) { 
  .org-card-row { 
    gap: 2.5rem; 
  } 
}

.org-card-icon { 
  width: 56px; 
  height: 56px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  border-radius: 1rem; 
  flex-shrink: 0;
  transition: transform 0.3s ease;
}

.org-card:hover .org-card-icon {
  transform: scale(1.1) rotate(5deg);
}

.org-card-icon--primary { 
  background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%); 
  color: #4f46e5; 
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.15);
}

.org-card-icon--success { 
  background: linear-gradient(135deg, #ecfccb 0%, #d9f99d 100%); 
  color: #22c55e; 
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.15);
}

.org-card-meta { 
  display: flex; 
  align-items: flex-start; 
  gap: 1.5rem; 
}
.org-grid { 
  display: grid; 
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2rem; 
  align-items: start; 
}

.org-grid--show { grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); }

@media(min-width: 1200px) { 
  .org-grid--show { grid-template-columns: 420px 1fr; } 
}

/* --- CARTES --- */
.org-card {
  background: var(--card-bg);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  padding: 2rem;
  border: 1px solid var(--card-border);
  transition: all 0.3s ease;
  text-decoration: none;
  display: block;
  position: relative;
  overflow: hidden;
}

.org-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #4f46e5, #06b6d4);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}

.org-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.15), 0 4px 8px -2px rgba(0, 0, 0, 0.1);
  border-color: #4f46e5;
}

.org-card:hover::before {
  transform: scaleX(1);
}

.org-card:active {
  transform: translateY(-2px);
}

/* Carte centrée pour dashboard vide */
.org-card-center {
  text-align: center;
  padding: 3rem 2rem;
  max-width: 600px;
  margin: 0 auto;
}

/* Footer de carte pour les actions */
.org-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid #e2e8f0;
  gap: 1rem;
}

.org-card-left {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.org-small-link {
  color: var(--primary);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: color 0.2s;
}

.org-small-link:hover {
  color: var(--primary-dark);
  text-decoration: underline;
}

.org-panel { display: flex; flex-direction: column; gap: 1.5rem; }
.org-panel-heading { display: flex; align-items: center; gap: 1rem; }
.org-panel-icon { width: 48px; height: 48px; border-radius: 14px; background: #eef2ff; color: #4338ca; display:flex; align-items:center; justify-content:center; font-size:1.25rem; }
.org-panel--team .org-panel-icon { background:#ecfccb; color:#166534; }

.org-card-title { 
  font-weight: 700; 
  font-size: 1.25rem; 
  margin-bottom: 0.75rem; 
  color: var(--text); 
  transition: color 0.3s ease;
}

.org-card:hover .org-card-title {
  color: var(--primary);
}

.org-card-desc { 
  color: var(--muted); 
  font-size: 0.95rem; 
  margin-bottom: 0; 
  line-height: 1.7; 
}
.org-details-content { display: flex; flex-direction: column; gap: 0.75rem; font-size: 1rem; }

.org-detail-row { display:flex; justify-content: space-between; gap:1rem; border-bottom:1px solid #e2e8f0; padding-bottom:0.75rem; }
.org-detail-row:last-child { border-bottom:none; padding-bottom:0; }
.org-detail-row dt { font-weight:600; color:#475569; }
.org-detail-row dd { margin:0; font-weight:500; text-align:right; color:#0f172a; }
.org-detail-row--full { flex-direction:column; }
.org-detail-row--full dd { text-align:left; color:#475569; }

/* Pour la colonne qui s'étend (utile si on change la grille, mais ici géré par le grid-template) */
.org-col-span-2 { grid-column: auto; } 

/* --- FORMULAIRE AJOUT MEMBRE --- */
.org-add-member-wrapper { 
  margin-bottom: 2rem; 
  background-color: #f1f5f9; /* Gris très léger */
  border: 1px solid #cbd5e1; 
  border-radius: 0.5rem; 
  padding: 1.5rem; 
}

.org-add-member-wrapper--wide { padding:1.75rem; }

.org-label { display: block; font-size: 0.875rem; color: #475569; margin-bottom: 0.5rem; font-weight: 600; }

.org-input {
  display: block; width: 100%; padding: 0.75rem 1rem; 
  border: 1px solid #cbd5e1; border-radius: 0.5rem; 
  font-size: 0.95rem; background-color: #fff; color: #1e293b;
  transition: border-color .15s;
}
.org-input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }

/* Alignement du formulaire */
.org-form-row { display: flex; gap: 1rem; align-items: flex-end; flex-wrap: wrap; }
.org-form-group-grow { flex: 1; min-width: 200px; } /* L'email prend toute la place dispo */
.org-form-group-fixed { width: 150px; flex-shrink: 0; } /* Le select a une taille fixe */

.org-form-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:1rem; align-items:end; }
.org-form-actions-inline { display:flex; justify-content:flex-end; }

/* --- BOUTONS --- */
.org-btn-primary {
  padding: 0.75rem 1.5rem; 
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); 
  color: #fff;
  border-radius: 0.5rem; 
  border: none; 
  font-weight: 600; 
  cursor: pointer; 
  transition: all 0.3s ease; 
  font-size: 0.95rem; 
  display: inline-flex; 
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.25);
  text-decoration: none;
}

.org-btn-primary:hover { 
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.35);
}

.org-btn-primary:active {
  transform: translateY(0);
}

.org-btn-edit { 
  padding: 0.5rem 1rem; 
  border-radius: 0.5rem; 
  background: #fff; 
  border: 1px solid #cbd5e1; 
  color: #334155; 
  text-decoration: none; 
  font-weight: 600; 
  font-size: 0.9rem; 
  display: inline-flex; 
  align-items: center; 
  gap: 0.5rem; 
  transition: all 0.2s ease;
  cursor: pointer;
}

.org-btn-edit:hover { 
  background: #f8fafc; 
  border-color: #94a3b8;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.org-btn-delete { 
  padding: 0.5rem 1rem; 
  border-radius: 0.375rem; 
  background: #fee2e2; 
  color: #991b1b; 
  border: 1px solid #fca5a5; 
  cursor: pointer; 
  font-size: 0.875rem; 
  font-weight: 600; 
  transition: all 0.2s ease; 
  white-space: nowrap;
}

.org-btn-delete:hover { 
  background: #fecaca;
  border-color: #f87171;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(220, 38, 38, 0.2);
}

.org-action-link { color: var(--muted); text-decoration: none; font-weight: 500; font-size: 0.95rem; }
.org-action-link:hover { color: var(--primary); text-decoration: underline; }


/* --- LISTE DES UTILISATEURS (CORRIGÉE) --- */
.org-users-list { margin-top: 1rem; }

.org-avatar-circle {
  width: 42px; height: 42px; 
  background-color: #e0f2fe; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; color: #0284c7; font-size: 1.1rem; 
  flex-shrink: 0; border: 2px solid #fff; box-shadow: 0 0 0 1px #e0f2fe;
}

.org-user-info { font-weight: 600; color: var(--text); font-size: 0.95rem; }
.org-user-email { font-size: 0.85rem; color: var(--muted); }

.org-members-table { border:1px solid #e2e8f0; border-radius:0.75rem; overflow:hidden; }
.org-members-table__head { display:grid; grid-template-columns:2fr 1fr 0.8fr; background:#f8fafc; padding:0.85rem 1.25rem; font-size:0.85rem; color:#475569; font-weight:600; }
.org-members-table__head-actions { text-align:right; }
.org-member-row { display:grid; grid-template-columns:2fr 1fr 0.8fr; align-items:center; padding:1rem 1.25rem; gap:1rem; border-top:1px solid #edf2f7; }
.org-member-row:nth-child(even) { background:#fbfdff; }
.org-member-ident { display:flex; align-items:center; gap:1rem; min-width:0; }
.org-member-role { text-align:center; }
.org-member-actions { justify-self:end; display:flex; gap:0.5rem; }

@media(max-width: 768px) {
  .org-members-table__head,
  .org-member-row { grid-template-columns:1fr; }
  .org-member-role { text-align:left; }
  .org-member-actions { justify-self:flex-start; }
}

.org-header-actions { display:flex; gap:0.75rem; align-items:center; }

/* --- BADGES --- */
.org-badge {
    padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;
    display: inline-flex; align-items: center; gap: 0.3rem; line-height: 1; white-space: nowrap;
}
.org-badge-owner { background-color: #eef2ff; color: #4338ca; border: 1px solid #c7d2fe; }
.org-badge-admin { background-color: #fff7ed; color: #9a3412; border: 1px solid #fed7aa; }
.org-badge-member { background-color: #f8fafc; color: #64748b; border: 1px solid #e2e8f0; }

.org-inline-form { margin: 0; display: inline-flex; }

/* --- ALERTS --- */
.org-alert-success { background: #f0fdf4; border: 1px solid #86efac; color: #15803d; padding: 1rem 1rem 1rem 3rem; border-radius: 0.5rem; margin-bottom: 2rem; position: relative; }
.org-alert-success::before { content: "✓"; position: absolute; left: 1rem; top: 1rem; font-weight: bold; font-size: 1.2rem; }
.org-alert-error { background: #fef2f2; border: 1px solid #fca5a5; color: #b91c1c; padding: 1rem 1rem 1rem 3rem; border-radius: 0.5rem; margin-bottom: 2rem; position: relative; }
.org-alert-error::before { content: "!"; position: absolute; left: 1rem; top: 1rem; font-weight: bold; font-size: 1.2rem; }
.org-error-list { list-style: disc; padding-left: 1rem; margin: 0; font-size: 0.9rem; }